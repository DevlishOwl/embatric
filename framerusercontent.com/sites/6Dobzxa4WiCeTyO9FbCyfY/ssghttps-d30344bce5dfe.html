import{setRangeValue as t,ValueWithRandom as o,OptionsColor as s,executeOnSingleOrMultiple as e,deepExtend as i,getRangeValue as r,loadParticlesOptions as l,getValue as n,randomInRange as d,itemFromSingleOrMultiple as a}from"tsparticles-engine";class
DestroyBounds{load(o){if(o){void 0!==o.bottom&&(this.bottom=t(o.bottom));void 0!==o.left&&(this.left=t(o.left));void 0!==o.right&&(this.right=t(o.right));void 0!==o.top&&(this.top=t(o.top))}}}class SplitFactor extends o{constructor(){super();this.value=3}}class
SplitRate extends o{constructor(){super();this.value={min:4,max:9}}}class Split{constructor(){this.count=1;this.factor=new SplitFactor;this.rate=new SplitRate;this.sizeOffset=true}load(t){var o;if(t){void 0!==t.color&&(this.color=s.create(this.color,t.color));void
0!==t.count&&(this.count=t.count);this.factor.load(t.factor);this.rate.load(t.rate);this.particles=e(t.particles,(t=>i({},t)));void 0!==t.sizeOffset&&(this.sizeOffset=t.sizeOffset);if(t.colorOffset){this.colorOffset=null!==(o=this.colorOffset)&&void 0!==o?o:{};void
0!==t.colorOffset.h&&(this.colorOffset.h=t.colorOffset.h);void 0!==t.colorOffset.s&&(this.colorOffset.s=t.colorOffset.s);void 0!==t.colorOffset.l&&(this.colorOffset.l=t.colorOffset.l)}}}}class Destroy{constructor(){this.bounds=new DestroyBounds;this.mode="none";this.split=new
Split}load(t){if(t){t.mode&&(this.mode=t.mode);t.bounds&&this.bounds.load(t.bounds);this.split.load(t.split)}}}class DestroyUpdater{constructor(t,o){this.engine=t;this.container=o}init(t){const o=this.container,s=t.options,e=s.destroy;if(!e)return;t.splitCount=0;const
i=e.bounds;t.destroyBounds||(t.destroyBounds={});i.bottom&&(t.destroyBounds.bottom=r(i.bottom)*o.canvas.size.height/100);i.left&&(t.destroyBounds.left=r(i.left)*o.canvas.size.width/100);i.right&&(t.destroyBounds.right=r(i.right)*o.canvas.size.width/100);i.top&&(t.destroyBounds.top=r(i.top)*o.canvas.size.height/100)}isEnabled(t){return!t.destroyed}loadOptions(t,...o){t.destroy||(t.destroy=new
Destroy);for(const s of o)t.destroy.load(null===s||void 0===s?void 0:s.destroy)}particleDestroyed(t,o){if(o)return;const s=t.options.destroy;s&&"split"===s.mode&&this.split(t)}update(t){if(!this.isEnabled(t))return;const o=t.getPosition(),s=t.destroyBounds;s&&(void
0!==s.bottom&&o.y>=s.bottom||void 0!==s.left&&o.x
<=s.left||void 0!==s.right&&o.x>=s.right||void 0!==s.top&&o.y
    <=s.top)&&t.destroy()}addSplitParticle(o,s){var e,i,a;const c=o.options.destroy;if(!c)return;const f=c.split,u=l(this.engine,this.container,o.options),h=n(f.factor),p=o.getFillColor();f.color?u.color.load(f.color):f.colorOffset&&p?u.color.load({value:{hsl:{h:p.h+r(null!==(e=f.colorOffset.h)&&void
        0!==e?e:0),s:p.s+r(null!==(i=f.colorOffset.s)&&void 0!==i?i:0),l:p.l+r(null!==(a=f.colorOffset.l)&&void 0!==a?a:0)}}}):u.color.load({value:{hsl:o.getFillColor()}});u.move.load({center:{x:o.position.x,y:o.position.y,mode: "precise"}});if( "number"===typeof
        u.size.value)u.size.value/=h;else{u.size.value.min/=h;u.size.value.max/=h}u.load(s);const v=f.sizeOffset?t(-o.size.value,o.size.value):0,y={x:o.position.x+d(v),y:o.position.y+d(v)};return this.container.particles.addParticle(y,u,o.group,(s=>{var e;if(s.size.value
        <.5)return false;s.velocity.length=d(t(o.velocity.length,s.velocity.length));s.splitCount=(null!==(e=o.splitCount)&&void 0!==e?e:0)+1;s.unbreakable=true;setTimeout((()=>{s.unbreakable=false}),500);return true}))}split(t){const o=t.options.destroy;if(!o)return;const s=o.split;if(s.count>=0&&(void 0===t.splitCount||t.splitCount++>s.count))return;const e=n(s.rate),i=a(s.particles);for(let o=0;o
            <e;o++)this.addSplitParticle(t,i)}}async
                function loadDestroyUpdater(t){await t.addParticleUpdater( "destroy",(o=>new DestroyUpdater(t,o)))}export{loadDestroyUpdater}; //# sourceMappingURL=index.js.map