import{OptionsColor as i,drawLine as n,getStyleFromRgb as t,ExternalInteractorBase as o,mouseMoveEvent as e,getDistance as r,getLinkRandomColor as a,getLinkColor as s,isInArray as l}from"tsparticles-engine";class GrabLinks{constructor(){this.blink=false;this.consent=false;this.opacity=1}load(n){if(n){void
0!==n.blink&&(this.blink=n.blink);void 0!==n.color&&(this.color=i.create(this.color,n.color));void 0!==n.consent&&(this.consent=n.consent);void 0!==n.opacity&&(this.opacity=n.opacity)}}}class Grab{constructor(){this.distance=100;this.links=new GrabLinks}get
lineLinked(){return this.links}set lineLinked(i){this.links=i}get line_linked(){return this.links}set line_linked(i){this.links=i}load(i){var n,t;if(i){void 0!==i.distance&&(this.distance=i.distance);this.links.load(null!==(t=null!==(n=i.links)&&void
0!==n?n:i.lineLinked)&&void 0!==t?t:i.line_linked)}}}function drawGrabLine(i,o,e,r,a,s){n(i,e,r);i.strokeStyle=t(a,s);i.lineWidth=o;i.stroke()}function drawGrab(i,n,t,o,e){i.canvas.draw((i=>{var r;const a=n.getPosition();drawGrabLine(i,null!==(r=n.retina.linksWidth)&&void
0!==r?r:0,a,e,t,o)}))}class Grabber extends o{constructor(i){super(i)}clear(){}init(){const i=this.container,n=i.actualOptions.interactivity.modes.grab;n&&(i.retina.grabModeDistance=n.distance*i.retina.pixelRatio)}async interact(){var i,n;const t=this.container,o=t.actualOptions,l=o.interactivity;if(!l.modes.grab||!l.events.onHover.enable||t.interactivity.status!==e)return;const
c=t.interactivity.mouse.position;if(!c)return;const d=t.retina.grabModeDistance;if(!d||d
<0)return;const b=t.particles.quadTree.queryCircle(c,d,(i=>this.isEnabled(i)));for(const o of b){const e=o.getPosition(),b=r(e,c);if(b>d)continue;const v=l.modes.grab.links,u=v.opacity,k=u-b*u/d;if(k
    <=0)continue;const h=null!==(i=v.color)&&void 0!==i?i:null===(n=o.options.links)||void 0===n?void 0:n.color;if(!t.particles.grabLineColor&&h){const
        i=l.modes.grab.links;t.particles.grabLineColor=a(h,i.blink,i.consent)}const p=s(o,void 0,t.particles.grabLineColor);if(!p)return;drawGrab(t,o,p,k,c)}}isEnabled(i){var n;const t=this.container,o=t.interactivity.mouse,e=(null!==(n=null===i||void 0===i?void
        0:i.interactivity)&&void 0!==n?n:t.actualOptions.interactivity).events;return e.onHover.enable&&!!o.position&&l( "grab",e.onHover.mode)}loadModeOptions(i,...n){i.grab||(i.grab=new Grab);for(const t of n)i.grab.load(null===t||void 0===t?void 0:t.grab)}reset(){}}async
        function loadExternalGrabInteraction(i){await i.addInteractor( "externalGrab",(i=>new Grabber(i)))}export{Grab,GrabLinks,loadExternalGrabInteraction}; //# sourceMappingURL=index.js.map