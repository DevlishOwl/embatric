import{deepExtend as i,ExternalInteractorBase as t,isInArray as a}from"tsparticles-engine";class Trail{constructor(){this.delay=1;this.pauseOnStop=false;this.quantity=1}load(t){if(t){void 0!==t.delay&&(this.delay=t.delay);void 0!==t.quantity&&(this.quantity=t.quantity);void
0!==t.particles&&(this.particles=i({},t.particles));void 0!==t.pauseOnStop&&(this.pauseOnStop=t.pauseOnStop)}}}class TrailMaker extends t{constructor(i){super(i);this._delay=0}clear(){}init(){}async interact(i){var t,a,e,o;if(!this.container.retina.reduceFactor)return;const
n=this.container,s=n.actualOptions,r=s.interactivity.modes.trail;if(!r)return;const l=1e3*r.delay/this.container.retina.reduceFactor;this._delay
<l&&(this._delay+=i.value);if(this._delay<l)return;let c=true;r.pauseOnStop&&(n.interactivity.mouse.position===this._lastPosition||(null===(t=n.interactivity.mouse.position)||void
    0===t?void 0:t.x)===(null===(a=this._lastPosition)||void 0===a?void 0:a.x)&&(null===(e=n.interactivity.mouse.position)||void 0===e?void 0:e.y)===(null===(o=this._lastPosition)||void 0===o?void 0:o.y))&&(c=false);n.interactivity.mouse.position?this._lastPosition={x:n.interactivity.mouse.position.x,y:n.interactivity.mouse.position.y}:delete
    this._lastPosition;c&&n.particles.push(r.quantity,n.interactivity.mouse,r.particles);this._delay-=l}isEnabled(i){var t;const e=this.container,o=e.actualOptions,n=e.interactivity.mouse,s=(null!==(t=null===i||void 0===i?void 0:i.interactivity)&&void 0!==t?t:o.interactivity).events;return
    n.clicking&&n.inside&&!!n.position&&a( "trail",s.onClick.mode)||n.inside&&!!n.position&&a( "trail",s.onHover.mode)}loadModeOptions(i,...t){i.trail||(i.trail=new Trail);for(const a of t)i.trail.load(null===a||void 0===a?void 0:a.trail)}reset(){}}async
    function loadExternalTrailInteraction(i){await i.addInteractor( "externalTrail",(i=>new TrailMaker(i)))}export{Trail,loadExternalTrailInteraction}; //# sourceMappingURL=index.js.map