import{ExternalInteractorBase as e,mouseMoveEvent as t,isInArray as o,divModeExecute as n,isDivModeEnabled as i,Circle as c,circleBounce as s,circleBounceDataFromParticle as a,Vector as r,Rectangle as u,rectBounce as l,calculateBounds as d}from"tsparticles-engine";class
Bounce{constructor(){this.distance=200}load(e){e&&void 0!==e.distance&&(this.distance=e.distance)}}class Bouncer extends e{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async
interact(){const e=this.container,i=e.actualOptions,c=i.interactivity.events,s=e.interactivity.status===t,a=c.onHover.enable,r=c.onHover.mode,u=c.onDiv;s&&a&&o("bounce",r)?this.processMouseBounce():n("bounce",u,((e,t)=>this.singleSelectorBounce(e,t)))}isEnabled(e){var
t;const n=this.container,c=n.actualOptions,s=n.interactivity.mouse,a=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:c.interactivity).events,r=a.onDiv;return s.position&&a.onHover.enable&&o("bounce",a.onHover.mode)||i("bounce",r)}loadModeOptions(e,...t){e.bounce||(e.bounce=new
Bounce);for(const o of t)e.bounce.load(null===o||void 0===o?void 0:o.bounce)}reset(){}processBounce(e,t,o){const n=this.container.particles.quadTree.query(o,(e=>this.isEnabled(e)));for(const i of n)o instanceof c?s(a(i),{position:e,radius:t,mass:t**2*Math.PI/2,velocity:r.origin,factor:r.origin}):o
instanceof u&&l(i,d(e,t))}processMouseBounce(){const e=this.container,t=e.retina.pixelRatio,o=10*t,n=e.interactivity.mouse.position,i=e.retina.bounceModeDistance;!i||i
<0||!n||this.processBounce(n,i,new c(n.x,n.y,i+o))}singleSelectorBounce(e,t){const o=this.container,n=document.querySelectorAll(e);n.length&&n.forEach((e=>{const n=e,i=o.retina.pixelRatio,s={x:(n.offsetLeft+n.offsetWidth/2)*i,y:(n.offsetTop+n.offsetHeight/2)*i},a=n.offsetWidth/2*i,r=10*i,l="circle"===t.type?new c(s.x,s.y,a+r):new u(n.offsetLeft*i-r,n.offsetTop*i-r,n.offsetWidth*i+2*r,n.offsetHeight*i+2*r);this.processBounce(s,a,l)}))}}async
    function loadExternalBounceInteraction(e){await e.addInteractor("externalBounce",(e=>new Bouncer(e)))}export{Bounce,loadExternalBounceInteraction}; //# sourceMappingURL=index.js.map